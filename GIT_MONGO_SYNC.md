# GIT_MONGO_SYNC.md ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ –Ω–∞ 3 –ü–ö (GitHub + MongoDB Atlas)
_–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-10-07 06:35_

## üéØ –¶–µ–ª—å
–ë–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º **Medplatforma** –Ω–∞ —Ç—Ä—ë—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –Ω–µ –∑–∞—Ç–∏—Ä–∞—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.
–ö–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **GitHub**, –¥–∞–Ω–Ω—ã–µ ‚Äî –≤ **MongoDB Atlas**.

---

## 1) –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ê–∫–∫–∞—É–Ω—Ç GitHub, –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é `medplatforma`.
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Git –∏ VS Code –Ω–∞ –≤—Å–µ—Ö –ü–ö.
- –î–æ—Å—Ç—É–ø –∫ –∫–ª–∞—Å—Ç–µ—Ä—É MongoDB Atlas –∏ **–æ–¥–∏–Ω–∞–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –Ω–∞ –≤—Å–µ—Ö –ü–ö.
- –§–∞–π–ª `.env` **–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è** –≤ Git (–¥–æ–±–∞–≤–∏—Ç—å –≤ `.gitignore`).

–ü—Ä–∏–º–µ—Ä `.env` (–∫–∞–∂–¥—ã–π –ü–ö —Ö—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ):
```
FLASK_ENV=development
MONGO_URI=mongodb+srv://medadmin:medpass123@medplatforma.cnv7fbo.mongodb.net/
DB_NAME=medplatforma_dev
```

---

## 2) –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Git –Ω–∞ –ü–ö
```powershell
git config --global user.name "–í–∞—à–µ –ò–º—è"
git config --global user.email your@email.com
git config --global pull.ff only      # –∑–∞–ø—Ä–µ—â–∞–µ–º merge-–≤–µ—Ç–∫–∏ –ø—Ä–∏ pull
git config --global core.autocrlf true
```

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
```powershell
git clone https://github.com/<–≤–∞—à_–∞–∫–∫–∞—É–Ω—Ç>/medplatforma.git
cd medplatforma
```

---

## 3) –ë–∞–∑–æ–≤—ã–π —Ä–∞–±–æ—á–∏–π —Ü–∏–∫–ª (–æ–¥–∏–Ω –ü–ö)
**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã:**
```powershell
git fetch origin
git status
git pull --ff-only
```

**–†–∞–±–æ—Ç–∞–µ—Ç–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ‚Ä¶**  
**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
```powershell
git add .
git commit -m "–§–∏–∫—Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è: —Ä–µ—Å—É—Ä—Å–Ω–∞—è –æ—Å—å, dragend"
git push origin main
```

> `--ff-only` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—ã –Ω–µ —Å–æ–∑–¥–∞–¥–∏—Ç–µ ¬´–ª–∏—à–Ω–∏–π merge¬ª. –ï—Å–ª–∏ –≤–µ—Ç–∫–∞ —Ä–∞–∑–æ—à–ª–∞—Å—å ‚Äî –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–µ—Ä–≤—ë—Ç—Å—è, –∏ –≤—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç–µ —á—É–∂–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

---

## 4) –ü–µ—Ä–µ—Ö–æ–¥ —Å –ü–ö‚Äë1 –Ω–∞ –ü–ö‚Äë2 (–∫–∞–∫ –Ω–µ –∑–∞—Ç–µ—Ä–µ—Ç—å –∫–æ–¥)
**–ù–∞ –ü–ö‚Äë1 (–ø–µ—Ä–µ–¥ —É—Ö–æ–¥–æ–º):**
```powershell
git add .
git commit -m "–ó–∞–≤–µ—Ä—à–∏–ª —á–∞—Å—Ç—å –∑–∞–¥–∞—á D0"
git push origin main
```
**–ù–∞ –ü–ö‚Äë2 (–ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º):**
```powershell
git fetch origin
git status
git pull --ff-only
```
–¢–µ–ø–µ—Ä—å —É –≤–∞—Å —Å–∞–º–∞—è —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è. –†–∞–±–æ—Ç–∞–π—Ç–µ –∏ –ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–π—Ç–µ –Ω–∞ –ü–ö‚Äë2 –±–µ–∑ `git pull --ff-only`** ‚Äî —Ç–∞–∫ –≤—ã –∏–∑–±–µ–∂–∏—Ç–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º.

---

## 5) –í–µ—Ç–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º –ø—Ä—è–º–æ –≤ main)
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥ ‚Äî –¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Ñ–∏—á–µ‚Äë–≤–µ—Ç–∫–∞—Ö:
```powershell
git switch -c feature/cal-resource-view
# ... –ø—Ä–∞–≤–∫–∏ ...
git add .
git commit -m "resource view: –∫–∞–±–∏–Ω–µ—Ç—ã –ø–æ –æ—Å–∏"
git push -u origin feature/cal-resource-view
```
–ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Pull Request –≤ GitHub –∏ —Å–º–µ—Ä–∂—å—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.  
–ù–∞ –¥—Ä—É–≥–æ–º –ü–ö –ø—Ä–æ—Å—Ç–æ:
```powershell
git fetch origin
git switch feature/cal-resource-view
git pull --ff-only
```

---

## 6) –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–ø–∞–∫—Ç–Ω–æ:
```powershell
git log --oneline --graph --decorate --all -n 20
```
–°—Ä–∞–≤–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∏ —É–¥–∞–ª—ë–Ω–Ω—É—é –≤–µ—Ç–∫—É:
```powershell
git rev-list --left-right --count origin/main...HEAD
```
–ï—Å–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ pull ‚Äî VS Code –ø–æ–∫–∞–∂–µ—Ç ¬´Current/Incoming¬ª. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –±–ª–æ–∫–∏, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ, –∑–∞—Ç–µ–º:
```powershell
git add .
git commit -m "Resolve merge conflict"
git push origin main
```

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--force` –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.**  
–ï—Å–ª–∏ –∑–∞–ø—É—Ç–∞–ª–∏—Å—å:
```powershell
git reset --hard origin/main
git clean -fd
```
(–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –∫–æ–º–∞–Ω–¥–∞ —É–¥–∞–ª–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã.)

---

## 7) MongoDB Atlas (–µ–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–ª—è –≤—Å–µ—Ö –ü–ö)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–ª–∞—Å—Ç–µ—Ä** –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –í Atlas –≤ —Ä–∞–∑–¥–µ–ª–µ **Network Access** –¥–æ–±–∞–≤—å—Ç–µ IP –≤—Å–µ—Ö —Ç—Ä—ë—Ö –ü–ö –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ `0.0.0.0/0` (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ).
- –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –±–∞–∑—ã: `medplatforma_dev` –∏ `medplatforma_prod`.
- –ü–∞—Ä–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ (–ø—Ä–∏–º–µ—Ä):
```javascript
db.events.createIndex({ room_id: 1, start: 1, end: 1 })
db.patients.createIndex({ phone: 1 })
```
- –ë—ç–∫–∞–ø—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é):
```powershell
mongodump --uri "%MONGO_URI%" --db medplatforma_dev --out backups/mongodump_%DATE%
```

---

## 8) –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å
- **–ó–∞—Ç—ë—Ä —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é:** –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ `git pull --ff-only` –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º.
- **–ö–æ–º–º–∏—Ç–Ω—É–ª —Å–µ–∫—Ä–µ—Ç—ã:** –¥–µ—Ä–∂–∏—Ç–µ `.env` –≤–Ω–µ Git, –¥–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`.
- **–†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ `requirements.txt`, –∑–∞–ø—É—Å–∫–∞–π—Ç–µ
```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

---

## 9) –ß–µ–∫‚Äë–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ–º –ü–ö
- `git status` ‚Äî —á–∏—Å—Ç–æ?
- `git add . && git commit` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã?
- `git push origin <–≤–µ—Ç–∫–∞>` ‚Äî –≤—ã–≥—Ä—É–∂–µ–Ω–æ –≤ GitHub?
- `docs_bundle.md` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω—ã `LOCAL_PLAN`/`CHANGELOG`?
- –ë—ç–∫–∞–ø `main.py` –∏ `calendar.html` —Å–æ–∑–¥–∞–Ω?

–ì–æ—Ç–æ–≤–æ. –ù–∞ –¥—Ä—É–≥–æ–º –ü–ö –Ω–∞—á–∏–Ω–∞–µ–º —Å `git pull --ff-only`.
