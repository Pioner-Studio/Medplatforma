–û—Ç–ª–∏—á–Ω–æ üöÄ –ë—Ä–∞—Ç, –¥–µ—Ä–∂–∏ **–ø–µ—Ä–≤—É—é –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é `docs/reference.md`** ‚Äî —ç—Ç–æ –Ω–∞—à **–µ–¥–∏–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫** –ø–æ –ø—Ä–æ–µ–∫—Ç—É.
–Ø —Å–¥–µ–ª–∞–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω—ã–º: –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ–º–∞–Ω–¥—ã, —Ç–µ—Ä–º–∏–Ω—ã, —Å–ª–µ–Ω–≥, —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å.

–°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª —É —Å–µ–±—è –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
`docs/reference.md`

---

````markdown
# üìò Reference: Medplatforma Project

–ï–¥–∏–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ç–µ—Ä–º–∏–Ω–∞–º, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º, –∫–æ–º–∞–Ω–¥–∞–º –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Å–ª–µ–Ω–≥—É –ø—Ä–æ–µ–∫—Ç–∞.

---

## üõ† –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Python)

- **Flask** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫, –º–∞—Ä—à—Ä—É—Ç—ã (routes), API, —à–∞–±–ª–æ–Ω—ã.
- **Werkzeug** ‚Äî —á–∞—Å—Ç—å Flask, –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ HTTP –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é.
- **Jinja2** ‚Äî HTML-—à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä, –≤—Å—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- **itsdangerous** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø–æ–¥–ø–∏—Å—å cookies/—Å–µ—Å—Å–∏–π.
- **click** ‚Äî –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Flask.
- **blinker** ‚Äî —Å–∏–≥–Ω–∞–ª—ã (—Å–æ–±—ã—Ç–∏—è –≤–Ω—É—Ç—Ä–∏ Flask).
- **pymongo** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å MongoDB.
- **dnspython** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ SRV –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Atlas.
- **python-dotenv** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ `.env`.
- **pandas** ‚Äî —Ç–∞–±–ª–∏—Ü—ã, –æ—Ç—á—ë—Ç—ã, —ç–∫—Å–ø–æ—Ä—Ç CSV/XLSX.
- **gunicorn** ‚Äî –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä –¥–ª—è Linux.
- **colorama** ‚Äî —Ü–≤–µ—Ç–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ (Windows).
- **packaging** ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ä—Å–∏—è–º–∏.
- **pre-commit** ‚Äî —Ö—É–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º (—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è docs).

---

## üîó –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

- **Route / –ú–∞—Ä—à—Ä—É—Ç** ‚Äî –ø—É—Ç—å –≤ Flask, –Ω–∞–ø—Ä–∏–º–µ—Ä:  
  ```python
  @app.route("/api/patients")
````

* **Endpoint** ‚Äî –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API. –í—Å–µ–≥–¥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –º–∞—Ä—à—Ä—É—Ç–æ–º, –Ω–∞–ø—Ä. `/api/patients`.
* **Template / –®–∞–±–ª–æ–Ω** ‚Äî HTML/Jinja-—Ñ–∞–π–ª –≤ `templates/`.
* **Static** ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).
* **Helper / –•–µ–ª–ø–µ—Ä** ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä `oid()` –¥–ª—è ObjectId).
* **Seed** ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã).
* **Dump** ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã.
* **Auth / –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî –≤—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é.
* **Session / –°–µ—Å—Å–∏—è** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
* **Context** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω.
* **UI/UX** ‚Äî –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## üì° HTTP –º–µ—Ç–æ–¥—ã

* **GET** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (—á—Ç–µ–Ω–∏–µ).
* **POST** ‚Äî —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.
* **PUT** ‚Äî –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
* **PATCH** ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.
* **DELETE** ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å.

---

## üìÖ –°–æ–±—ã—Ç–∏—è –∏ —Å—É—â–Ω–æ—Å—Ç–∏

* **Event** ‚Äî —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–ø—Ä–∏—ë–º, –æ–ø–µ—Ä–∞—Ü–∏—è).
* **Doctor** ‚Äî –≤—Ä–∞—á, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `doctors`.
* **Patient** ‚Äî –ø–∞—Ü–∏–µ–Ω—Ç, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `patients`.
* **Finance Record** ‚Äî –∑–∞–ø–∏—Å—å –æ –ø–ª–∞—Ç–µ–∂–µ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `finance`.
* **Message** ‚Äî —á–∞—Ç/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–∞—Ü–∏–µ–Ω—Ç–æ–º –∏ –≤—Ä–∞—á–æ–º.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

* **Smoke test** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`python main.py`).
* **Unit test** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.
* **Integration test** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è —Ü–µ–ª–∏–∫–æ–º.
* **API test** ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º —á–µ—Ä–µ–∑ Postman –∏–ª–∏ pytest.

---

## üíæ –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π (MongoDB Atlas)

* **URI** ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∞:

  ```
  mongodb+srv://user:pass@cluster.mongodb.net/medplatforma
  ```

* **–ö–æ–ª–ª–µ–∫—Ü–∏–∏**:

  * `patients`
  * `doctors`
  * `events`
  * `finance`
  * `messages`

* **mongodump** ‚Äî —Å–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –±–∞–∑—ã:

  ```bash
  mongodump --uri="mongodb+srv://..." --out="./backups/2025-08-19"
  ```

* **mongorestore** ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É:

  ```bash
  mongorestore --uri="mongodb+srv://..." ./backups/2025-08-19
  ```

---

## ‚öôÔ∏è –ö–æ–º–∞–Ω–¥—ã (PowerShell / Bash)

### –†–∞–±–æ—Ç–∞ —Å –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

```powershell
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```

### –ó–∞–ø—É—Å–∫

```powershell
python main.py
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```powershell
python tools/generate_docs.py --zip --note "commit message"
```

### –ü–æ–∏—Å–∫ –¥—É–±–ª–µ–π (–Ω–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)

```powershell
python tools/detect_duplicates.py
```

---

## üî• –ù–∞—à –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ª–µ–Ω–≥

* **—Ä–æ—É—Ç** = –º–∞—Ä—à—Ä—É—Ç Flask.
* **—ç–Ω–¥–ø–æ–∏–Ω—Ç** = –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API.
* **—à–∞–±–ª–æ–Ω** = HTML/Jinja —Ñ–∞–π–ª.
* **—Ö—É–∫** = pre-commit –∏–ª–∏ post-commit —Å–∫—Ä–∏–ø—Ç.
* **—Å–∏–¥ (seed)** = —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –±–∞–∑—ã.
* **–¥–∞–º–ø** = —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã.
* **–±—ç–∫–∞–ø** = –æ–±—â–∏–π —Ç–µ—Ä–º–∏–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–¥–∞/–±–∞–∑—ã.
* **–¥–µ–ø–ª–æ–π** = –≤—ã–∫–ª–∞–¥–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
* **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä** = —á–∏—Å—Ç–∫–∞/–ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∫–æ–¥–∞.
* **—Å–º–æ–∫** = –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞.
* **—Ö–µ–ª–ø–µ—Ä** = —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
* **–∫–æ–Ω–Ω–µ–∫—Ç** = –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –∏–ª–∏ API.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
medplatforma/
‚îÇ
‚îú‚îÄ‚îÄ main.py               # –≤—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª Flask
‚îú‚îÄ‚îÄ tools/                # —Å–ª—É–∂–µ–±–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ generate_docs.py
‚îÇ   ‚îú‚îÄ‚îÄ detect_duplicates.py
‚îÇ
‚îú‚îÄ‚îÄ templates/            # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ calendar.html
‚îÇ   ‚îú‚îÄ‚îÄ patient_card.html
‚îÇ
‚îú‚îÄ‚îÄ static/               # CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docs/                 # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ROUTES.md
‚îÇ   ‚îú‚îÄ‚îÄ reference.md
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt      # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                  # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (MONGO_URI, SECRET_KEY)
```

---

```

---

üëâ –ü—Ä–µ–¥–ª–∞–≥–∞—é —Ç–∞–∫: —è —Å—Ä–∞–∑—É –ø–æ–º–æ–≥—É —Ç–µ–±–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—å `docs/reference.md` –≤ –ø—Ä–æ–µ–∫—Ç–µ, –∞ –¥–∞–ª—å—à–µ –º—ã –±—É–¥–µ–º –µ–≥–æ **–æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ä–æ—É—Ç—ã/—à–∞–±–ª–æ–Ω—ã/—Ç–µ—Ä–º–∏–Ω—ã**.  

–•–æ—á–µ—à—å, —è –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é –∏ –ø–µ—Ä–≤—ã–π `docs/ROUTES.md` (—Å–æ–±—Ä–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã `/api/...` –∏–∑ —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞) ‚Äî —á—Ç–æ–±—ã —É –Ω–∞—Å –±—ã–ª–∞ –ø–∞—Ä–∞:  
- `reference.md` (–≥–ª–æ—Å—Å–∞—Ä–∏–π + —Ç–µ—Ä–º–∏–Ω—ã),  
- `ROUTES.md` (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)?
```
