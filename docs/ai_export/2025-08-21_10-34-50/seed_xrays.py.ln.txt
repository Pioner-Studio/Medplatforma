    1: from datetime import datetime, timedelta
    2: from bson import ObjectId
    3: import random
    4: 
    5: def rand_date(days=10):
    6:     return (datetime.now() - timedelta(days=random.randint(0, days))).strftime('%Y-%m-%d %H:%M')
    7: 
    8: def pick(lst):
    9:     return random.choice(lst)
   10: 
   11: patients = [
   12:     {"_id": ObjectId("666666666666666666666601"), "full_name": "Иванов Владимир"},
   13:     {"_id": ObjectId("666666666666666666666602"), "full_name": "Петрова Мария"},
   14:     {"_id": ObjectId("666666666666666666666603"), "full_name": "Сидорова Ольга"},
   15:     {"_id": ObjectId("666666666666666666666604"), "full_name": "Лебедев Сергей"},
   16:     {"_id": ObjectId("666666666666666666666605"), "full_name": "Козлова Анна"},
   17: ]
   18: doctors = [
   19:     {"_id": ObjectId("777777777777777777777701"), "full_name": "Д-р Сидоров Алексей"},
   20:     {"_id": ObjectId("777777777777777777777702"), "full_name": "Д-р Михайлова Елена"},
   21:     {"_id": ObjectId("777777777777777777777703"), "full_name": "Д-р Иванов Дмитрий"},
   22: ]
   23: types = ["Панорама", "Прицельный", "КТ"]
   24: 
   25: comments = [
   26:     "Патологий не выявлено.",
   27:     "Визуализируется кариес премоляра.",
   28:     "Рекомендовано КТ для детализации.",
   29:     "Восстановление после имплантации.",
   30:     "Контрольная снимок после лечения."
   31: ]
   32: 
   33: reports = [
   34:     "Все ткани без изменений. Костная структура в норме.",
   35:     "Обнаружен кариес. Рекомендовано лечение.",
   36:     "В области 1.6 незначительное затемнение.",
   37:     "Восстановление пройдено успешно.",
   38:     "Проведена имплантация зуба 2.4, состояние хорошее."
   39: ]
   40: 
   41: images = [
   42:     "/static/xrays/demo_xray_1.png",
   43:     "/static/xrays/demo_xray_2.png",
   44:     "/static/xrays/demo_xray_3.png",
   45:     "/static/xrays/demo_xray_4.png",
   46:     "/static/xrays/demo_xray_5.png",
   47: ]
   48: 
   49: xrays = []
   50: 
   51: for i in range(12):
   52:     pat = pick(patients)
   53:     doc = pick(doctors)
   54:     xrays.append({
   55:         "_id": ObjectId(),
   56:         "patient_id": pat["_id"],
   57:         "doctor_id": doc["_id"],
   58:         "date": rand_date(),
   59:         "type": pick(types),
   60:         "image_url": pick(images),
   61:         "comment": pick(comments),
   62:         "report": pick(reports),
   63:         "uploaded_by": pick([doc["full_name"], "admin"]),
   64:         "created_at": rand_date()
   65:     })
   66: 
   67: if __name__ == "__main__":
   68:     from pymongo import MongoClient
   69:     client = MongoClient("mongodb+srv://medadmin:medpass123@medplatforma.cnv7fbo.mongodb.net/")
   70:     db = client['medplatforma']
   71:     db.xrays.delete_many({})
   72:     db.xrays.insert_many(xrays)
   73:     print("✅ Сид-файл рентген-кабинета успешно выполнен! Добавлено:", len(xrays))
