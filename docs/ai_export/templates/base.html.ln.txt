    1: <!DOCTYPE html>
    2: <html lang="ru">
    3: <head>
    4:     <meta charset="UTF-8">
    5:     <title>{% block title %}Medplatforma{% endblock %}</title>
    6:     <meta name="viewport" content="width=device-width, initial-scale=1">
    7:     <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600&display=swap" rel="stylesheet">
    8:     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    9:     <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   10:     {% block head %}{% endblock %}
   11: </head>
   12: <body class="">
   13:   <div class="layout">
   14:     <aside class="sidebar">
   15:       {% include 'sidebar.html' %}
   16:     </aside>
   17:     <div class="main-area">
   18:       {% include 'topbar.html' %}
   19:       <main class="content">
   20:         {% block content %}{% endblock %}
   21:       </main>
   22:     </div>
   23:   </div>
   24: 
   25:   {% block scripts %}
   26:   <script>
   27:     // Открытие меню профиля
   28:     function toggleProfileMenu() {
   29:       let menu = document.getElementById('profileMenu');
   30:       menu.style.display = (menu.style.display === 'flex' ? 'none' : 'flex');
   31:     }
   32:     window.onclick = function(e) {
   33:       let menu = document.getElementById('profileMenu');
   34:       if (menu && e.target.closest('.profile-block') == null && e.target.closest('.profile-menu') == null) {
   35:         menu.style.display = 'none';
   36:       }
   37:     };
   38: 
   39:     // --- Переключатель темы ---
   40:     document.addEventListener("DOMContentLoaded", function() {
   41:       const themeBtn = document.getElementById('themeToggleBtn');
   42:       if (themeBtn) {
   43:         themeBtn.onclick = function() {
   44:           const sun = this.querySelector('.theme-sun');
   45:           const moon = this.querySelector('.theme-moon');
   46:           const body = document.body;
   47:           if (sun && sun.style.display !== 'none') {
   48:             sun.style.display = 'none';
   49:             moon.style.display = 'inline';
   50:             body.classList.add('dark-theme');
   51:           } else {
   52:             if (sun) sun.style.display = 'inline';
   53:             if (moon) moon.style.display = 'none';
   54:             body.classList.remove('dark-theme');
   55:           }
   56:         };
   57:       }
   58:     });
   59:     // Можно добавить сохранение выбора темы в localStorage, если надо.
   60:   </script>
   61:   {% endblock %}
   62:   <script>
   63: function toggleProfileMenu() {
   64:   let menu = document.getElementById('profileMenu');
   65:   menu.style.display = (menu.style.display === 'flex' ? 'none' : 'flex');
   66: }
   67: window.onclick = function(e) {
   68:   let menu = document.getElementById('profileMenu');
   69:   if (menu && e.target.closest('.profile-block') == null && e.target.closest('.profile-menu') == null) {
   70:     menu.style.display = 'none';
   71:   }
   72: }
   73: 
   74: // Переключение темы
   75: document.addEventListener('DOMContentLoaded', function() {
   76:   const themeBtn = document.getElementById('themeToggleBtn');
   77:   const sunIcon = document.querySelector('.theme-sun');
   78:   const moonIcon = document.querySelector('.theme-moon');
   79:   // Сохраняем тему между сессиями
   80:   if (localStorage.getItem('theme') === 'dark') {
   81:     document.body.classList.add('dark-theme');
   82:     sunIcon.style.display = 'none';
   83:     moonIcon.style.display = 'inline';
   84:   }
   85:   themeBtn.onclick = function() {
   86:     if (document.body.classList.contains('dark-theme')) {
   87:       document.body.classList.remove('dark-theme');
   88:       sunIcon.style.display = 'inline';
   89:       moonIcon.style.display = 'none';
   90:       localStorage.setItem('theme', 'light');
   91:     } else {
   92:       document.body.classList.add('dark-theme');
   93:       sunIcon.style.display = 'none';
   94:       moonIcon.style.display = 'inline';
   95:       localStorage.setItem('theme', 'dark');
   96:     }
   97:   }
   98: });
   99: </script>
  100: </body>
  101: </html>
