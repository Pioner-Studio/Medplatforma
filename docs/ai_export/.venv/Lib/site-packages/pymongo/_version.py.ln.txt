    1: # Copyright 2022-present MongoDB, Inc.
    2: #
    3: # Licensed under the Apache License, Version 2.0 (the "License");
    4: # you may not use this file except in compliance with the License.
    5: # You may obtain a copy of the License at
    6: #
    7: # http://www.apache.org/licenses/LICENSE-2.0
    8: #
    9: # Unless required by applicable law or agreed to in writing, software
   10: # distributed under the License is distributed on an "AS IS" BASIS,
   11: # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   12: # See the License for the specific language governing permissions and
   13: # limitations under the License.
   14: 
   15: """Current version of PyMongo."""
   16: from __future__ import annotations
   17: 
   18: import re
   19: from typing import List, Tuple, Union
   20: 
   21: __version__ = "4.8.0"
   22: 
   23: 
   24: def get_version_tuple(version: str) -> Tuple[Union[int, str], ...]:
   25:     pattern = r"(?P<major>\d+).(?P<minor>\d+).(?P<patch>\d+)(?P<rest>.*)"
   26:     match = re.match(pattern, version)
   27:     if match:
   28:         parts: List[Union[int, str]] = [int(match[part]) for part in ["major", "minor", "patch"]]
   29:         if match["rest"]:
   30:             parts.append(match["rest"])
   31:     elif re.match(r"\d+.\d+", version):
   32:         parts = [int(part) for part in version.split(".")]
   33:     else:
   34:         raise ValueError("Could not parse version")
   35:     return tuple(parts)
   36: 
   37: 
   38: version_tuple = get_version_tuple(__version__)
   39: version = __version__
   40: 
   41: 
   42: def get_version_string() -> str:
   43:     return __version__
