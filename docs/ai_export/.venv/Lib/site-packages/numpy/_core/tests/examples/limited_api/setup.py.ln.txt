    1: """
    2: Build an example package using the limited Python C API.
    3: """
    4: 
    5: import os
    6: 
    7: from setuptools import Extension, setup
    8: 
    9: import numpy as np
   10: 
   11: macros = [("NPY_NO_DEPRECATED_API", 0), ("Py_LIMITED_API", "0x03060000")]
   12: 
   13: limited_api = Extension(
   14:     "limited_api",
   15:     sources=[os.path.join('.', "limited_api.c")],
   16:     include_dirs=[np.get_include()],
   17:     define_macros=macros,
   18: )
   19: 
   20: extensions = [limited_api]
   21: 
   22: setup(
   23:     ext_modules=extensions
   24: )
