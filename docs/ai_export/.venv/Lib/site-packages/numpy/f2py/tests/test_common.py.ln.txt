    1: import pytest
    2: 
    3: import numpy as np
    4: 
    5: from . import util
    6: 
    7: 
    8: @pytest.mark.slow
    9: class TestCommonBlock(util.F2PyTest):
   10:     sources = [util.getpath("tests", "src", "common", "block.f")]
   11: 
   12:     def test_common_block(self):
   13:         self.module.initcb()
   14:         assert self.module.block.long_bn == np.array(1.0, dtype=np.float64)
   15:         assert self.module.block.string_bn == np.array("2", dtype="|S1")
   16:         assert self.module.block.ok == np.array(3, dtype=np.int32)
   17: 
   18: 
   19: class TestCommonWithUse(util.F2PyTest):
   20:     sources = [util.getpath("tests", "src", "common", "gh19161.f90")]
   21: 
   22:     def test_common_gh19161(self):
   23:         assert self.module.data.x == 0
