    1: from numpy.distutils.fcompiler import FCompiler
    2: 
    3: compilers = ['PathScaleFCompiler']
    4: 
    5: class PathScaleFCompiler(FCompiler):
    6: 
    7:     compiler_type = 'pathf95'
    8:     description = 'PathScale Fortran Compiler'
    9:     version_pattern =  r'PathScale\(TM\) Compiler Suite: Version (?P<version>[\d.]+)'
   10: 
   11:     executables = {
   12:         'version_cmd'  : ["pathf95", "-version"],
   13:         'compiler_f77' : ["pathf95", "-fixedform"],
   14:         'compiler_fix' : ["pathf95", "-fixedform"],
   15:         'compiler_f90' : ["pathf95"],
   16:         'linker_so'    : ["pathf95", "-shared"],
   17:         'archiver'     : ["ar", "-cr"],
   18:         'ranlib'       : ["ranlib"]
   19:     }
   20:     pic_flags = ['-fPIC']
   21:     module_dir_switch = '-module ' # Don't remove ending space!
   22:     module_include_switch = '-I'
   23: 
   24:     def get_flags_opt(self):
   25:         return ['-O3']
   26:     def get_flags_debug(self):
   27:         return ['-g']
   28: 
   29: if __name__ == '__main__':
   30:     from distutils import log
   31:     log.set_verbosity(2)
   32:     from numpy.distutils import customized_fcompiler
   33:     print(customized_fcompiler(compiler='pathf95').get_version())
