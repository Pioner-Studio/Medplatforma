    1: import sys
    2: 
    3: from setuptools.command.egg_info import egg_info as _egg_info
    4: 
    5: class egg_info(_egg_info):
    6:     def run(self):
    7:         if 'sdist' in sys.argv:
    8:             import warnings
    9:             import textwrap
   10:             msg = textwrap.dedent("""
   11:                 `build_src` is being run, this may lead to missing
   12:                 files in your sdist!  You want to use distutils.sdist
   13:                 instead of the setuptools version:
   14: 
   15:                     from distutils.command.sdist import sdist
   16:                     cmdclass={'sdist': sdist}"
   17: 
   18:                 See numpy's setup.py or gh-7131 for details.""")
   19:             warnings.warn(msg, UserWarning, stacklevel=2)
   20: 
   21:         # We need to ensure that build_src has been executed in order to give
   22:         # setuptools' egg_info command real filenames instead of functions which
   23:         # generate files.
   24:         self.run_command("build_src")
   25:         _egg_info.run(self)
