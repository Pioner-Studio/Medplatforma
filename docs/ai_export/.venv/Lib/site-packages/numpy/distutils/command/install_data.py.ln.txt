    1: import sys
    2: have_setuptools = ('setuptools' in sys.modules)
    3: 
    4: from distutils.command.install_data import install_data as old_install_data
    5: 
    6: #data installer with improved intelligence over distutils
    7: #data files are copied into the project directory instead
    8: #of willy-nilly
    9: class install_data (old_install_data):
   10: 
   11:     def run(self):
   12:         old_install_data.run(self)
   13: 
   14:         if have_setuptools:
   15:             # Run install_clib again, since setuptools does not run sub-commands
   16:             # of install automatically
   17:             self.run_command('install_clib')
   18: 
   19:     def finalize_options (self):
   20:         self.set_undefined_options('install',
   21:                                    ('install_lib', 'install_dir'),
   22:                                    ('root', 'root'),
   23:                                    ('force', 'force'),
   24:                                   )
