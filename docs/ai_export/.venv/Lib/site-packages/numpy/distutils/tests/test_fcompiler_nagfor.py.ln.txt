    1: from numpy.testing import assert_
    2: import numpy.distutils.fcompiler
    3: 
    4: nag_version_strings = [('nagfor', 'NAG Fortran Compiler Release '
    5:                         '6.2(Chiyoda) Build 6200', '6.2'),
    6:                        ('nagfor', 'NAG Fortran Compiler Release '
    7:                         '6.1(Tozai) Build 6136', '6.1'),
    8:                        ('nagfor', 'NAG Fortran Compiler Release '
    9:                         '6.0(Hibiya) Build 1021', '6.0'),
   10:                        ('nagfor', 'NAG Fortran Compiler Release '
   11:                         '5.3.2(971)', '5.3.2'),
   12:                        ('nag', 'NAGWare Fortran 95 compiler Release 5.1'
   13:                         '(347,355-367,375,380-383,389,394,399,401-402,407,'
   14:                         '431,435,437,446,459-460,463,472,494,496,503,508,'
   15:                         '511,517,529,555,557,565)', '5.1')]
   16: 
   17: class TestNagFCompilerVersions:
   18:     def test_version_match(self):
   19:         for comp, vs, version in nag_version_strings:
   20:             fc = numpy.distutils.fcompiler.new_fcompiler(compiler=comp)
   21:             v = fc.version_match(vs)
   22:             assert_(v == version)
