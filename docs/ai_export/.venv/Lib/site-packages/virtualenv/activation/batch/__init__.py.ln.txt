    1: from __future__ import annotations
    2: 
    3: import os
    4: 
    5: from virtualenv.activation.via_template import ViaTemplateActivator
    6: 
    7: 
    8: class BatchActivator(ViaTemplateActivator):
    9:     @classmethod
   10:     def supports(cls, interpreter):
   11:         return interpreter.os == "nt"
   12: 
   13:     def templates(self):
   14:         yield "activate.bat"
   15:         yield "deactivate.bat"
   16:         yield "pydoc.bat"
   17: 
   18:     @staticmethod
   19:     def quote(string):
   20:         return string
   21: 
   22:     def instantiate_template(self, replacements, template, creator):
   23:         # ensure the text has all newlines as \r\n - required by batch
   24:         base = super().instantiate_template(replacements, template, creator)
   25:         return base.replace(os.linesep, "\n").replace("\n", os.linesep)
   26: 
   27: 
   28: __all__ = [
   29:     "BatchActivator",
   30: ]
