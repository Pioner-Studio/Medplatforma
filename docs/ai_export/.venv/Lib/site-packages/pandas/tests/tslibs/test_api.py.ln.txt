    1: """Tests that the tslibs API is locked down"""
    2: 
    3: from pandas._libs import tslibs
    4: 
    5: 
    6: def test_namespace():
    7:     submodules = [
    8:         "base",
    9:         "ccalendar",
   10:         "conversion",
   11:         "dtypes",
   12:         "fields",
   13:         "nattype",
   14:         "np_datetime",
   15:         "offsets",
   16:         "parsing",
   17:         "period",
   18:         "strptime",
   19:         "vectorized",
   20:         "timedeltas",
   21:         "timestamps",
   22:         "timezones",
   23:         "tzconversion",
   24:     ]
   25: 
   26:     api = [
   27:         "BaseOffset",
   28:         "NaT",
   29:         "NaTType",
   30:         "iNaT",
   31:         "nat_strings",
   32:         "OutOfBoundsDatetime",
   33:         "OutOfBoundsTimedelta",
   34:         "Period",
   35:         "IncompatibleFrequency",
   36:         "Resolution",
   37:         "Tick",
   38:         "Timedelta",
   39:         "dt64arr_to_periodarr",
   40:         "Timestamp",
   41:         "is_date_array_normalized",
   42:         "ints_to_pydatetime",
   43:         "normalize_i8_timestamps",
   44:         "get_resolution",
   45:         "delta_to_nanoseconds",
   46:         "ints_to_pytimedelta",
   47:         "localize_pydatetime",
   48:         "tz_convert_from_utc",
   49:         "tz_convert_from_utc_single",
   50:         "to_offset",
   51:         "tz_compare",
   52:         "is_unitless",
   53:         "astype_overflowsafe",
   54:         "get_unit_from_dtype",
   55:         "periods_per_day",
   56:         "periods_per_second",
   57:         "guess_datetime_format",
   58:         "add_overflowsafe",
   59:         "get_supported_dtype",
   60:         "is_supported_dtype",
   61:     ]
   62: 
   63:     expected = set(submodules + api)
   64:     names = [x for x in dir(tslibs) if not x.startswith("__")]
   65:     assert set(names) == expected
