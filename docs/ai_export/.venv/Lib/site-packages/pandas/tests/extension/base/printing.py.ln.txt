    1: import io
    2: 
    3: import pytest
    4: 
    5: import pandas as pd
    6: 
    7: 
    8: class BasePrintingTests:
    9:     """Tests checking the formatting of your EA when printed."""
   10: 
   11:     @pytest.mark.parametrize("size", ["big", "small"])
   12:     def test_array_repr(self, data, size):
   13:         if size == "small":
   14:             data = data[:5]
   15:         else:
   16:             data = type(data)._concat_same_type([data] * 5)
   17: 
   18:         result = repr(data)
   19:         assert type(data).__name__ in result
   20:         assert f"Length: {len(data)}" in result
   21:         assert str(data.dtype) in result
   22:         if size == "big":
   23:             assert "..." in result
   24: 
   25:     def test_array_repr_unicode(self, data):
   26:         result = str(data)
   27:         assert isinstance(result, str)
   28: 
   29:     def test_series_repr(self, data):
   30:         ser = pd.Series(data)
   31:         assert data.dtype.name in repr(ser)
   32: 
   33:     def test_dataframe_repr(self, data):
   34:         df = pd.DataFrame({"A": data})
   35:         repr(df)
   36: 
   37:     def test_dtype_name_in_info(self, data):
   38:         buf = io.StringIO()
   39:         pd.DataFrame({"A": data}).info(buf=buf)
   40:         result = buf.getvalue()
   41:         assert data.dtype.name in result
