    1: import pytest
    2: 
    3: import pandas as pd
    4: from pandas.tests.extension.list.array import (
    5:     ListArray,
    6:     ListDtype,
    7:     make_data,
    8: )
    9: 
   10: 
   11: @pytest.fixture
   12: def dtype():
   13:     return ListDtype()
   14: 
   15: 
   16: @pytest.fixture
   17: def data():
   18:     """Length-100 ListArray for semantics test."""
   19:     data = make_data()
   20: 
   21:     while len(data[0]) == len(data[1]):
   22:         data = make_data()
   23: 
   24:     return ListArray(data)
   25: 
   26: 
   27: def test_to_csv(data):
   28:     # https://github.com/pandas-dev/pandas/issues/28840
   29:     # array with list-likes fail when doing astype(str) on the numpy array
   30:     # which was done in get_values_for_csv
   31:     df = pd.DataFrame({"a": data})
   32:     res = df.to_csv()
   33:     assert str(data[0]) in res
