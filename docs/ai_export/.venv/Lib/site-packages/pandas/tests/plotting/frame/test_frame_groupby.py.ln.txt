    1: """ Test cases for DataFrame.plot """
    2: 
    3: import pytest
    4: 
    5: from pandas import DataFrame
    6: from pandas.tests.plotting.common import _check_visible
    7: 
    8: pytest.importorskip("matplotlib")
    9: 
   10: 
   11: class TestDataFramePlotsGroupby:
   12:     def _assert_ytickslabels_visibility(self, axes, expected):
   13:         for ax, exp in zip(axes, expected):
   14:             _check_visible(ax.get_yticklabels(), visible=exp)
   15: 
   16:     def _assert_xtickslabels_visibility(self, axes, expected):
   17:         for ax, exp in zip(axes, expected):
   18:             _check_visible(ax.get_xticklabels(), visible=exp)
   19: 
   20:     @pytest.mark.parametrize(
   21:         "kwargs, expected",
   22:         [
   23:             # behavior without keyword
   24:             ({}, [True, False, True, False]),
   25:             # set sharey=True should be identical
   26:             ({"sharey": True}, [True, False, True, False]),
   27:             # sharey=False, all yticklabels should be visible
   28:             ({"sharey": False}, [True, True, True, True]),
   29:         ],
   30:     )
   31:     def test_groupby_boxplot_sharey(self, kwargs, expected):
   32:         # https://github.com/pandas-dev/pandas/issues/20968
   33:         # sharey can now be switched check whether the right
   34:         # pair of axes is turned on or off
   35:         df = DataFrame(
   36:             {
   37:                 "a": [-1.43, -0.15, -3.70, -1.43, -0.14],
   38:                 "b": [0.56, 0.84, 0.29, 0.56, 0.85],
   39:                 "c": [0, 1, 2, 3, 1],
   40:             },
   41:             index=[0, 1, 2, 3, 4],
   42:         )
   43:         axes = df.groupby("c").boxplot(**kwargs)
   44:         self._assert_ytickslabels_visibility(axes, expected)
   45: 
   46:     @pytest.mark.parametrize(
   47:         "kwargs, expected",
   48:         [
   49:             # behavior without keyword
   50:             ({}, [True, True, True, True]),
   51:             # set sharex=False should be identical
   52:             ({"sharex": False}, [True, True, True, True]),
   53:             # sharex=True, xticklabels should be visible
   54:             # only for bottom plots
   55:             ({"sharex": True}, [False, False, True, True]),
   56:         ],
   57:     )
   58:     def test_groupby_boxplot_sharex(self, kwargs, expected):
   59:         # https://github.com/pandas-dev/pandas/issues/20968
   60:         # sharex can now be switched check whether the right
   61:         # pair of axes is turned on or off
   62: 
   63:         df = DataFrame(
   64:             {
   65:                 "a": [-1.43, -0.15, -3.70, -1.43, -0.14],
   66:                 "b": [0.56, 0.84, 0.29, 0.56, 0.85],
   67:                 "c": [0, 1, 2, 3, 1],
   68:             },
   69:             index=[0, 1, 2, 3, 4],
   70:         )
   71:         axes = df.groupby("c").boxplot(**kwargs)
   72:         self._assert_xtickslabels_visibility(axes, expected)
