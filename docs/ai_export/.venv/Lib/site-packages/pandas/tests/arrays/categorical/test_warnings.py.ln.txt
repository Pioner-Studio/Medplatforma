    1: import pytest
    2: 
    3: import pandas._testing as tm
    4: 
    5: 
    6: class TestCategoricalWarnings:
    7:     def test_tab_complete_warning(self, ip):
    8:         # https://github.com/pandas-dev/pandas/issues/16409
    9:         pytest.importorskip("IPython", minversion="6.0.0")
   10:         from IPython.core.completer import provisionalcompleter
   11: 
   12:         code = "import pandas as pd; c = pd.Categorical([])"
   13:         ip.run_cell(code)
   14: 
   15:         # GH 31324 newer jedi version raises Deprecation warning;
   16:         #  appears resolved 2021-02-02
   17:         with tm.assert_produces_warning(None, raise_on_extra_warnings=False):
   18:             with provisionalcompleter("ignore"):
   19:                 list(ip.Completer.completions("c.", 1))
