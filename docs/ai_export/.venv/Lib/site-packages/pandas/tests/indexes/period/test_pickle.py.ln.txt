    1: import numpy as np
    2: import pytest
    3: 
    4: from pandas import (
    5:     NaT,
    6:     PeriodIndex,
    7:     period_range,
    8: )
    9: import pandas._testing as tm
   10: 
   11: from pandas.tseries import offsets
   12: 
   13: 
   14: class TestPickle:
   15:     @pytest.mark.parametrize("freq", ["D", "M", "Y"])
   16:     def test_pickle_round_trip(self, freq):
   17:         idx = PeriodIndex(["2016-05-16", "NaT", NaT, np.nan], freq=freq)
   18:         result = tm.round_trip_pickle(idx)
   19:         tm.assert_index_equal(result, idx)
   20: 
   21:     def test_pickle_freq(self):
   22:         # GH#2891
   23:         prng = period_range("1/1/2011", "1/1/2012", freq="M")
   24:         new_prng = tm.round_trip_pickle(prng)
   25:         assert new_prng.freq == offsets.MonthEnd()
   26:         assert new_prng.freqstr == "M"
