    1: import numpy as np
    2: 
    3: import pandas as pd
    4: from pandas import (
    5:     Categorical,
    6:     Series,
    7: )
    8: import pandas._testing as tm
    9: 
   10: 
   11: class TestSeriesCount:
   12:     def test_count(self, datetime_series):
   13:         assert datetime_series.count() == len(datetime_series)
   14: 
   15:         datetime_series[::2] = np.nan
   16: 
   17:         assert datetime_series.count() == np.isfinite(datetime_series).sum()
   18: 
   19:     def test_count_inf_as_na(self):
   20:         # GH#29478
   21:         ser = Series([pd.Timestamp("1990/1/1")])
   22:         msg = "use_inf_as_na option is deprecated"
   23:         with tm.assert_produces_warning(FutureWarning, match=msg):
   24:             with pd.option_context("use_inf_as_na", True):
   25:                 assert ser.count() == 1
   26: 
   27:     def test_count_categorical(self):
   28:         ser = Series(
   29:             Categorical(
   30:                 [np.nan, 1, 2, np.nan], categories=[5, 4, 3, 2, 1], ordered=True
   31:             )
   32:         )
   33:         result = ser.count()
   34:         assert result == 2
