    1: import pytest
    2: 
    3: from pandas import Index
    4: import pandas._testing as tm
    5: 
    6: 
    7: def test_add_prefix_suffix(string_series):
    8:     with_prefix = string_series.add_prefix("foo#")
    9:     expected = Index([f"foo#{c}" for c in string_series.index])
   10:     tm.assert_index_equal(with_prefix.index, expected)
   11: 
   12:     with_suffix = string_series.add_suffix("#foo")
   13:     expected = Index([f"{c}#foo" for c in string_series.index])
   14:     tm.assert_index_equal(with_suffix.index, expected)
   15: 
   16:     with_pct_prefix = string_series.add_prefix("%")
   17:     expected = Index([f"%{c}" for c in string_series.index])
   18:     tm.assert_index_equal(with_pct_prefix.index, expected)
   19: 
   20:     with_pct_suffix = string_series.add_suffix("%")
   21:     expected = Index([f"{c}%" for c in string_series.index])
   22:     tm.assert_index_equal(with_pct_suffix.index, expected)
   23: 
   24: 
   25: def test_add_prefix_suffix_axis(string_series):
   26:     # GH 47819
   27:     with_prefix = string_series.add_prefix("foo#", axis=0)
   28:     expected = Index([f"foo#{c}" for c in string_series.index])
   29:     tm.assert_index_equal(with_prefix.index, expected)
   30: 
   31:     with_pct_suffix = string_series.add_suffix("#foo", axis=0)
   32:     expected = Index([f"{c}#foo" for c in string_series.index])
   33:     tm.assert_index_equal(with_pct_suffix.index, expected)
   34: 
   35: 
   36: def test_add_prefix_suffix_invalid_axis(string_series):
   37:     with pytest.raises(ValueError, match="No axis named 1 for object type Series"):
   38:         string_series.add_prefix("foo#", axis=1)
   39: 
   40:     with pytest.raises(ValueError, match="No axis named 1 for object type Series"):
   41:         string_series.add_suffix("foo#", axis=1)
