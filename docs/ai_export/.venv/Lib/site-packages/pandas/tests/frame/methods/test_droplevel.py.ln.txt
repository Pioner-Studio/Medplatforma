    1: import pytest
    2: 
    3: from pandas import (
    4:     DataFrame,
    5:     Index,
    6:     MultiIndex,
    7: )
    8: import pandas._testing as tm
    9: 
   10: 
   11: class TestDropLevel:
   12:     def test_droplevel(self, frame_or_series):
   13:         # GH#20342
   14:         cols = MultiIndex.from_tuples(
   15:             [("c", "e"), ("d", "f")], names=["level_1", "level_2"]
   16:         )
   17:         mi = MultiIndex.from_tuples([(1, 2), (5, 6), (9, 10)], names=["a", "b"])
   18:         df = DataFrame([[3, 4], [7, 8], [11, 12]], index=mi, columns=cols)
   19:         if frame_or_series is not DataFrame:
   20:             df = df.iloc[:, 0]
   21: 
   22:         # test that dropping of a level in index works
   23:         expected = df.reset_index("a", drop=True)
   24:         result = df.droplevel("a", axis="index")
   25:         tm.assert_equal(result, expected)
   26: 
   27:         if frame_or_series is DataFrame:
   28:             # test that dropping of a level in columns works
   29:             expected = df.copy()
   30:             expected.columns = Index(["c", "d"], name="level_1")
   31:             result = df.droplevel("level_2", axis="columns")
   32:             tm.assert_equal(result, expected)
   33:         else:
   34:             # test that droplevel raises ValueError on axis != 0
   35:             with pytest.raises(ValueError, match="No axis named columns"):
   36:                 df.droplevel(1, axis="columns")
