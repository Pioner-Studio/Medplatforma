{% extends 'base.html' %}
{% block title %}–í—Ä–∞—á ‚Äî {{ doctor.full_name }}{% endblock %}
{% block content %}
<div style="max-width:780px; margin:0 auto; background:#fff; border-radius:24px; box-shadow:0 6px 32px rgba(20,40,80,.08); padding:38px 42px;">
    <div style="display:flex; align-items:center; gap:34px; margin-bottom:32px;">
        <img src="{{ doctor.avatar_url }}" alt="avatar" style="width:102px; height:102px; border-radius:50%; object-fit:cover; box-shadow:0 2px 10px rgba(20,40,80,.11);">
        <div>
            <div style="font-size:2rem; font-weight:700; margin-bottom:4px;">{{ doctor.full_name }}</div>
            <div style="color:#5b6b7b; font-size:1.13rem;">
                {{ doctor.specialization }}
            </div>
            <div style="margin:10px 0 6px 0; color:#2236a7;">
                <span style="margin-right:20px;">üìû {{ doctor.phone }}</span>
                <span>‚úâÔ∏è {{ doctor.email }}</span>
            </div>
        </div>
        <div style="margin-left:auto; text-align:right;">
            <button onclick="window.location.href='/edit_doctor/{{ doctor._id }}'" style="background:#445be2; color:#fff; border:none; border-radius:10px; padding:9px 22px; font-weight:600; font-size:1rem; cursor:pointer;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
    </div>
    <div style="display:flex; gap:40px;">
        <div style="flex:1;">
            <div style="font-weight:600; color:#445be2; margin-bottom:8px;">–î–æ—Ö–æ–¥</div>
            <div style="margin-bottom:8px; font-size:1.14rem;">
                <span style="color:#13b949; font-weight:700;">{{ doctor.total_income }} ‚ÇΩ</span>
            </div>
        </div>
        <div style="flex:2;">
            <div style="font-weight:600; color:#445be2; margin-bottom:8px;">–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—ë–º–æ–≤</div>
            <table style="width:100%; background:#fff; border-radius:10px; font-size:1.08rem;">
                <thead style="background:#f2f6ff;">
                    <tr>
                        <th>–î–∞—Ç–∞</th>
                        <th>–ü–∞—Ü–∏–µ–Ω—Ç</th>
                        <th>–£—Å–ª—É–≥–∞</th>
                        <th>–°—É–º–º–∞</th>
                    </tr>
                </thead>
                <tbody>
                    {% for appt in doctor.appointments %}
                    <tr style="border-bottom:1px solid #f0f0f0;">
                        <td>{{ appt.datetime[:10] }}</td>
                        <td>
                            <a href="/patient/{{ appt.patient_id }}" style="color:#2236a7; text-decoration:none;">{{ appt.patient_name }}</a>
                        </td>
                        <td>{{ appt.service }}</td>
                        <td>{{ appt.sum }} ‚ÇΩ</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="4" style="text-align:center; color:#aaa; padding:14px;">–ù–µ—Ç –ø—Ä–∏—ë–º–æ–≤</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
